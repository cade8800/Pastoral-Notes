<nz-spin [nzSpinning]="userLoading">
  <div class="main" *ngIf="user">
    <div class="left">

      <form nz-form nzLayout="vertical" #f="ngForm" (submit)="save()" se-container="1">
        <se label="昵称" error="请输入您的昵称!">
          <input nz-input [(ngModel)]="user.nickname" name="nickname" required />
        </se>
        <se label="性别">
          <nz-select [(ngModel)]="user.gender" name="gender">
            <nz-option nzLabel="未知" nzValue="UNKNOWN"></nz-option>
            <nz-option nzLabel="男性" nzValue="MEN"></nz-option>
            <nz-option nzLabel="女性" nzValue="WOMEN"></nz-option>
          </nz-select>
        </se>
        <se label="国家/地区">
          <input nz-input [(ngModel)]="user.country" name="country" />
        </se>
        <se label="所在省市">
          <div class="d-flex justify-content-between">
            <input nz-input [(ngModel)]="user.province" name="province" class="width-50 mr-sm" />
            <input nz-input [(ngModel)]="user.city" name="city" class="width-50" />
          </div>
        </se>
        <se label="街道地址" error="请输入您的街道地址!">
          <input nz-input [(ngModel)]="user.address" name="address" />
        </se>
        <se>
          <button nz-button nzType="primary" [disabled]="f.invalid">更新基本信息</button>
        </se>
      </form>

    </div>
    <div class="right">
      <div class="avatar_title">头像</div>
      <div class="avatar">
        <img [src]="user.avatarUrl" alt="avatarUrl" />
      </div>
      <nz-upload [nzAction]="fileUpload" [nzShowUploadList]="false" (nzChange)="uploadAvatar($event)">
        <button nz-button class="button_view">
          <i nz-icon nzType="upload"></i>
          <span>上传头像</span>
        </button>
      </nz-upload>
      <div class="select_avatar">
        <div class="avatar_title">可选头像</div>
        <img *ngFor="let url of avatarList" [src]="url" (click)="selectedAvatar(url)">
      </div>
    </div>
  </div>
</nz-spin>